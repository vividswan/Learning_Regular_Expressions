# Chapter 08 - 역참조 사용하기

## 역참조 이해하기

- html 헤더 태그를 찾을 때 `<h2>`로 시작해 `</h3>`로 끝나 올바른 형식이 아니지만 패턴과 일치할 경우가 있다.
  - 이런 경우 역참조가 매우 유용

## 역참조로 찾기

- 역참조는 앞에 나온 표현을 역으로 가리키는 것
  - `\1`은 패턴에서 처음 사용한 하위 표현식과 일치한다는 뜻 (`\2`는 두 번째, `\3`은 세 번째 ..)
  - 변수와 비슷하게 생각해도 됨
- 역참조 문법은 정규 표현식 구현에 따라 크게 달라짐
  - 자바스크립트와 vi는 역슬래시, 펄은 달러 기호 등등 ..
- 참조하는 표현식이 괄호로 감싸진 하위 표현식 일 때만 동작
- 하위 표현식의 제약 사항을 해결하고자 `이름 붙여 저장하기`도 지원
  - 지원하는 구현마다 문법이 서로 다름

## 치환 작업 수행하기

- 정규 표현식을 써 치환하는 작업은 역참조와 함께 사용했을 때 진가를 발휘
- 치환 작업 시 정규 표현식 두 개 필요
  - 원하는 부분일 일치시키는 패턴 & 일치한 부분을 치환하는 데 사용할 패턴
- 하위 표현식은 역참조를 사용해 필요한 만큼 여러 번 참조 가능
- 텍스트를 여러 조각의 하위 표현식으로 작게 나누는 편이 유용

## 대소문자 변환하기

- `\l`, `\u`는 바꾸고 싶은 글자 앞에 두어 각각 그 글자를 소문자와 대문자로 바꿈
- `\L`, `\U`는 `\E`를 만날 때까지 모든 문자를 각각 소문자와 대문자로 변환
