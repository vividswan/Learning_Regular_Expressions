# Chapter 05 - 반복 찾기

## 몇 번 일치하는가?

- 문자 클래스를 사용해서 `\w@\w.\w`과 같은 정규 표현식으로 이메일 주소를 찾으면 a@b.c와 같은 이메일 주소만 찾을 수 있다.
  - 문자를 여러 개 찾는 방법이 필요함

## 하나 이상의 문자 찾기

- 문자 뒤에 더하기(+) 문자를 붙이면 문자나 집합에 속한 요소를 하나 이상 찾을 수 있다.
  - ex) a+는 하나 이상 연속된 a를 찾는다.
  - ex) [0-9]+는 한자리 이상 연속된 숫자를 찾음 ([0-9+]가 아니라 [0-9]+임에 주의)
- `[\w.]+@[\w.]+\.\w+`과 같은 정규 표현식으로 이메일 주소를 찾을 수 있다.
- 더하기(+)는 메타 문자이기 때문에 더하기 자체를 찾으려면 이스케이프가 필요하다. (\\+)

## 문자가 없거나 하나 이상 연속하는 문자 찾기

- 메타 문자인 별표(\*)를 사용하면 있을 수도 있고 없을 수도 있는 문자와 일치시킬 수 있음
  - 문자나 집합 바로 뒤에 두면 찾고자 하는 문자나 집합이 없는 경우 또는 하나 이상 연속하는 경우에 일치
  - 더하기와 다르게 일치하는 텍스트가 반드시 있어야 하는 것이 아님
  - 별표(\*) 역시 문자 그대로 찾으려면 이스케이프가 필요 (\\\*)

## 문자가 없거나 하나인 문자 찾기

- 물음표(?)는 문자나 집합이 없거나 하나만 있는 경우에만 일치
  - 하나 이상은 일치하지 않음
  - http와 https, 윈도우와 유닉스의 줄의 끝 표현 문제 등을 해결 가능
  - 물음표(?) 역시 문자 그대로 찾으려면 이스케이프가 필요 (\\?)

## 구간 지정하기

- 정확히 원하는 만큼만 일치하도록 문자 수를 정의하기 위해 `구간`을 사용
  - 중괄호({}) 안에 표시
  - 중괄호({}) 역시 문자 그대로 찾으려면 이스케이프가 필요

### 정확한 구간 찾기

- 일치시키려고 하고자 하는 수를 중괄호 사이에 넣음
  - ex) RGB 표현 -> `#[A-Fa-f0-9]{6}`

### 범위 구간 찾기

- 일치 시키려는 요소 수의 최솟값과 최댓값을 나타낼 때도 구간을 사용
  - 범위는 `{2,4}`와 같은 방식으로 표현 (최소 두 번 ~ 최대 네 번)
  - 원하는 날짜 형식에서 사용 가능
  - 물음표(?)는 {0,1}과 같은 기능

### '최소' 구간 찾기

- 최댓값 없이 찾고자 하는 요소의 최솟값을 지정 가능
  - 범위 구간 표현에서 최댓값이 없이 표현 (예를 들어 `{3,}`)
  - 더하기(+)는 {1,}과 기능이 같음

## 과하게 일치하는 상황 방지하기

- 별표(\*)와 더하기(+) 같은 메타 문자는 `탐욕적(greedy)`
  - 가능한 한 가장 큰 덩어리를 찾으려 함
  - 텍스트 마지막에서 시작해 거꾸로 찾음
- 탐욕적 일치를 원하지 않을 때 `게으른(lazy)` 수량자로 바꿔 문제를 해결
  - 게으른 수량자는 문자가 최소로 일치
  - 기존 수량자 뒤에 물음표(?)를 붙여서 표현
